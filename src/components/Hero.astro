---
import { Icon } from 'astro-icon/components';

const stats = [
  { num: '+500',  label: 'Comercios activos' },
  { num: '99.9%', label: 'Uptime garantizado' },
  { num: '24/7',  label: 'Soporte incluido' },
  { num: '<2min', label: 'Setup inicial' },
];

const bars   = [40, 65, 50, 80, 60, 90, 70, 55, 75, 95, 60, 45];
const active = [5, 9];
---

<section class="relative min-h-screen flex flex-col items-center justify-center
                text-center px-[5vw] pt-28 sm:pt-32 pb-20 sm:pb-24 overflow-hidden z-10">

  <!-- Glow -->
  <div class="absolute top-[15%] left-1/2 -translate-x-1/2 w-[min(700px,90vw)] h-[350px] pointer-events-none"
       style="background: radial-gradient(ellipse, rgba(220,38,38,0.15) 0%, transparent 70%);" />
  <!-- Grid -->
  <div class="absolute inset-0 pointer-events-none opacity-[0.03]"
       style="background-image: linear-gradient(rgba(255,255,255,0.5) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.5) 1px, transparent 1px); background-size: 60px 60px;" />

  <!-- Logo -->
  <div class="animate-fade-up mb-6 sm:mb-8">
    <img src="/devhub-pos-logo-bg.png" alt="DevHub POS"
         class="h-14 sm:h-20 w-auto mx-auto logo-float" />
  </div>

  <!-- Badge -->
  <div class="inline-flex items-center gap-2 mb-5 sm:mb-6 px-3.5 py-1.5 rounded-full
              text-red-300 text-[0.65rem] sm:text-[0.7rem] font-semibold tracking-[0.06em] uppercase
              bg-red/10 border border-red/25 animate-fade-up-1">
    <span class="w-1.5 h-1.5 rounded-full bg-red animate-dot-pulse" />
    7 días de prueba gratis · Sin tarjeta de crédito
  </div>

  <!-- Headline -->
  <h1 class="font-head font-extrabold leading-[1.04] tracking-[-0.03em]
             text-[clamp(2.2rem,6vw,5.5rem)] max-w-[14ch] mx-auto mb-5 sm:mb-6 animate-fade-up-2">
    Control total de tu negocio
    <em class="not-italic text-red"> en un solo lugar.</em>
  </h1>

  <p class="text-[clamp(0.95rem,1.6vw,1.2rem)] text-gray-500 font-light
            max-w-[52ch] mx-auto leading-relaxed mb-8 sm:mb-10 animate-fade-up-2">
    DevHub POS es el sistema de gestión en la nube diseñado para comercios
    modernos. Vendé más, perdé menos, decidí mejor.
  </p>

  <!-- CTAs -->
  <div class="flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center w-full sm:w-auto animate-fade-up-3 px-4 sm:px-0">
    <a href="https://app.devhubpos.com/register"
      target="_blank" rel="noopener noreferrer"
      class="inline-flex items-center justify-center gap-2 px-7 py-3.5 rounded-md font-medium
              bg-red hover:bg-red-dk text-white
              transition-all duration-200 hover:-translate-y-px hover:shadow-glow no-underline text-sm sm:text-base">
      <Icon name="lucide:user-plus" class="w-4 h-4" /> Crear cuenta gratis
    </a>
    <a href="#how-it-works"
       class="inline-flex items-center justify-center gap-2 px-7 py-3.5 rounded-md font-medium
              border border-white/[0.07] text-white
              hover:border-white/25 hover:bg-white/[0.04] transition-all duration-200 no-underline text-sm sm:text-base">
      <Icon name="lucide:play-circle" class="w-4 h-4"/> Ver cómo funciona
    </a>
  </div>

  <!-- Social proof logos row -->
  <div class="flex items-center gap-2 mt-6 animate-fade-up-3">
    <div class="flex -space-x-2">
      {['CR','MG','LP','ST','VC'].map((initials) => (
        <div class="w-7 h-7 rounded-full border-2 border-[#0F0F0F] flex items-center justify-center
                    text-[0.55rem] font-bold text-white"
             style="background: linear-gradient(135deg, rgba(220,38,38,0.5), rgba(220,38,38,0.2))">
          {initials}
        </div>
      ))}
    </div>
    <span class="text-xs text-gray-500">+500 comercios confían en nosotros</span>
  </div>

  <!-- Dashboard mock -->
  <div class="w-full max-w-[900px] mx-auto mt-12 sm:mt-16 animate-fade-up-3">
    <div class="bg-card border border-white/[0.07] rounded-xl overflow-hidden shadow-dash
                transition-transform duration-500 hover:-translate-y-1">
      <!-- Window chrome -->
      <div class="flex items-center gap-2 px-4 py-3 bg-soft border-b border-white/[0.07]">
        <span class="w-2.5 h-2.5 rounded-full inline-block bg-[#FF5F56]" />
        <span class="w-2.5 h-2.5 rounded-full inline-block bg-[#FFBD2E]" />
        <span class="w-2.5 h-2.5 rounded-full inline-block bg-[#27C93F]" />
        <span class="ml-3 text-xs text-gray-500 hidden sm:inline">app.devhubpos.com — Dashboard</span>
        <span class="ml-3 text-xs text-gray-500 sm:hidden">DevHub POS</span>
      </div>

      <div class="p-4 sm:p-6 grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4">
        <div class="bg-soft border border-white/[0.07] rounded-lg p-3 sm:p-4 hover:border-red/20 transition-colors duration-300">
          <div class="flex items-center gap-1.5 text-[0.6rem] sm:text-[0.65rem] uppercase tracking-wider text-gray-500 mb-2">
            <Icon name="lucide:trending-up" class="w-3 h-3" /> <span class="hidden sm:inline">Ventas</span> Hoy
          </div>
          <div class="font-head font-bold text-xl sm:text-2xl text-red">$84.320</div>
          <div class="text-[0.6rem] sm:text-[0.65rem] text-green-500 mt-1">↑ +12% vs ayer</div>
        </div>
        <div class="bg-soft border border-white/[0.07] rounded-lg p-3 sm:p-4 hover:border-red/20 transition-colors duration-300">
          <div class="flex items-center gap-1.5 text-[0.6rem] sm:text-[0.65rem] uppercase tracking-wider text-gray-500 mb-2">
            <Icon name="lucide:receipt" class="w-3 h-3" /> Ventas
          </div>
          <div class="font-head font-bold text-xl sm:text-2xl">247</div>
          <div class="text-[0.6rem] sm:text-[0.65rem] text-green-500 mt-1">↑ +8% vs ayer</div>
        </div>
        <div class="bg-soft border border-white/[0.07] rounded-lg p-3 sm:p-4 hover:border-red/20 transition-colors duration-300">
          <div class="flex items-center gap-1.5 text-[0.6rem] sm:text-[0.65rem] uppercase tracking-wider text-gray-500 mb-2">
            <Icon name="lucide:alert-triangle" class="w-3 h-3" /> Stock
          </div>
          <div class="font-head font-bold text-xl sm:text-2xl text-amber-400">3</div>
          <div class="text-[0.6rem] sm:text-[0.65rem] text-amber-400 mt-1">Reponer pronto</div>
        </div>
        <div class="bg-soft border border-white/[0.07] rounded-lg p-3 sm:p-4 hover:border-red/20 transition-colors duration-300">
          <div class="flex items-center gap-1.5 text-[0.6rem] sm:text-[0.65rem] uppercase tracking-wider text-gray-500 mb-2">
            <Icon name="lucide:shopping-cart" class="w-3 h-3" /> Ticket
          </div>
          <div class="font-head font-bold text-xl sm:text-2xl">$341</div>
          <div class="text-[0.6rem] sm:text-[0.65rem] text-green-500 mt-1">↑ +5% este mes</div>
        </div>

        <div class="col-span-2 md:col-span-4 bg-soft border border-white/[0.07]
                    rounded-lg p-3 sm:p-4 h-20 sm:h-24 flex items-end gap-1">
          {bars.map((h, i) => (
            <div class={`bar-item flex-1 rounded-t-sm transition-all duration-300 cursor-pointer
                         hover:bg-red/70 ${active.includes(i) ? 'bg-red' : 'bg-white/[0.07]'}`}
                 style={`height:${h}%; animation-delay: ${i * 60}ms`} />
          ))}
        </div>
      </div>
    </div>
  </div>

  <!-- Stats -->
  <div class="grid grid-cols-2 sm:flex sm:flex-wrap gap-8 sm:gap-12 justify-center mt-16 sm:mt-20 pt-10 sm:pt-12
              border-t border-white/[0.07] relative z-10 animate-fade-up-4 w-full max-w-[700px]">
    {stats.map((s) => (
      <div class="stat-item text-center cursor-default">
        <div class="font-head font-extrabold text-2xl sm:text-3xl hover:text-red transition-colors duration-200">{s.num}</div>
        <div class="text-[0.7rem] uppercase tracking-wider text-gray-500 mt-1">{s.label}</div>
      </div>
    ))}
  </div>
</section>

<style>
  .logo-float {
    animation: logo-float 4s ease-in-out infinite;
  }
  @keyframes logo-float {
    0%, 100% { transform: translateY(0); filter: drop-shadow(0 0 25px rgba(220,38,38,0.35)); }
    50%       { transform: translateY(-6px); filter: drop-shadow(0 0 40px rgba(220,38,38,0.55)); }
  }
  .bar-item {
    animation: bar-grow 0.6s ease both;
    transform-origin: bottom;
  }
  @keyframes bar-grow {
    from { transform: scaleY(0); opacity: 0; }
    to   { transform: scaleY(1); opacity: 1; }
  }
</style>