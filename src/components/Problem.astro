---
import { Icon } from 'astro-icon/components';

const problems = [
  'No sabés cuánto stock te queda en tiempo real',
  'No sabés realmente cuánto ganás cada día',
  'Tus reportes son planillas de Excel desactualizadas',
  'No podés ver el negocio cuando no estás presente',
  'Cada cierre de caja es un caos manual',
];
const solutions = [
  'Stock actualizado en tiempo real, con alertas automáticas',
  'Rentabilidad clara: costos, márgenes y ganancias al instante',
  'Reportes automáticos diarios, semanales y mensuales',
  'Acceso desde cualquier dispositivo, en cualquier lugar',
  'Cierre de caja en segundos, sin errores',
];
---

<section class="relative z-10 px-[5vw] py-28 max-w-[1200px] mx-auto">

  <div class="problem-header">
    <span class="block text-[0.7rem] font-semibold tracking-[0.12em] uppercase text-red mb-4">
      El problema real
    </span>
    <h2 class="font-head font-extrabold tracking-tight leading-[1.1] text-[clamp(2rem,3.5vw,3rem)]">
      Tu negocio crece,<br />pero tu sistema no.
    </h2>
  </div>

  <div class="grid md:grid-cols-2 gap-6 mt-16">

    <div class="problem-col bg-white/[0.02] border border-white/[0.07] rounded-xl p-10">
      <p class="font-head font-bold text-lg text-gray-500 mb-6 flex items-center gap-2">
        <Icon name="lucide:x-circle" class="w-5 h-5" /> Sin DevHub POS
      </p>
      <ul class="flex flex-col gap-4 list-none p-0 m-0">
        {problems.map((item, i) => (
          <li class="problem-item flex items-start gap-3 text-sm text-gray-500 leading-relaxed"
              style={`--delay: ${i * 80}ms`}>
            <Icon name="lucide:x" class="w-4 h-4 mt-0.5 shrink-0 text-gray-600" />
            {item}
          </li>
        ))}
      </ul>
    </div>

    <div class="solution-col border border-red/20 rounded-xl p-10"
         style="background: rgba(220,38,38,0.05)">
      <p class="font-head font-bold text-lg text-red mb-6 flex items-center gap-2">
        <Icon name="lucide:check-circle-2" class="w-5 h-5" /> Con DevHub POS
      </p>
      <ul class="flex flex-col gap-4 list-none p-0 m-0">
        {solutions.map((item, i) => (
          <li class="solution-item flex items-start gap-3 text-sm leading-relaxed"
              style={`--delay: ${i * 80}ms`}>
            <Icon name="lucide:check" class="w-4 h-4 mt-0.5 shrink-0 text-red font-bold" />
            {item}
          </li>
        ))}
      </ul>
    </div>

  </div>
</section>

<style>
  .problem-header {
    opacity: 0; transform: translateY(24px);
    transition: opacity 0.6s ease, transform 0.6s ease;
  }
  .problem-header.visible { opacity: 1; transform: translateY(0); }

  .problem-col, .solution-col {
    opacity: 0; transform: translateY(30px);
    transition: opacity 0.6s ease, transform 0.6s ease;
  }
  .problem-col  { transition-delay: 0.1s; }
  .solution-col { transition-delay: 0.2s; }
  .problem-col.visible, .solution-col.visible { opacity: 1; transform: translateY(0); }

  .problem-item, .solution-item {
    opacity: 0; transform: translateX(-12px);
    transition: opacity 0.4s ease, transform 0.4s ease;
    transition-delay: var(--delay);
  }
  .solution-item { transform: translateX(12px); }
  .problem-item.visible, .solution-item.visible { opacity: 1; transform: translateX(0); }
</style>

<script>
  const io = new IntersectionObserver(
    (entries) => entries.forEach((e) => e.isIntersecting && e.target.classList.add('visible')),
    { threshold: 0.1 }
  );
  document.querySelectorAll('.problem-header, .problem-col, .solution-col, .problem-item, .solution-item')
    .forEach((el) => io.observe(el));
</script>
